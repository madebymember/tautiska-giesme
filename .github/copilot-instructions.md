# Copilot / AI agent instructions

## Project shape
- Single-page static site with no build/framework: `index.html`, `style.css`, `script.js`.
- Deploy target is GitHub Pages; keep paths relative and repo-local.
- UI language is Lithuanian; preserve text and diacritics.

## Architecture and data flow
- `index.html` contains three connected blocks: holiday countdown cards, hymn audio player, hymn lyrics.
- `script.js` owns all behavior; do not split logic into extra JS files unless requested.
- Countdown flow: `.countdown[data-month][data-day]` → `nextOccurrence(month, day)` → `updateTimer()` every second.
- Store timer state per node as `node._target` (or equivalent) and reuse it in intervals.
- Audio/lyrics flow: `<audio id="hymn-audio">` + `.hymn p[data-start]` → `timeupdate` → `highlightByTime()` → `.hymn p.active`.

## File-specific conventions
- Keep timer markup pattern: `<div class="countdown" data-month="2" data-day="16"></div>`.
- Keep lyric seek pattern: `<p data-start="17">...</p>` (`data-start` is seconds in the audio timeline).
- Preserve timer-card accessibility attributes (`role="list"`, `role="listitem"`, `aria-live="polite"`) and unit `aria-label`s generated by JS.
- When editing dates or stanzas, update only relevant `data-*` values and text; avoid structural rewrites.

## Styling and assets
- Background uses `image-set(...)` with `assets/img/Flag_of_Lithuania.webp` and `.jpg` fallback.
- Keep karaoke highlight tied to `.hymn p.active` in `style.css`.
- Reuse existing CSS variables/selectors; avoid adding a new styling system.

## Integration points and dependencies
- Audio source filenames are fixed by markup/UI logic:
  - `assets/audio/tautiska-giesme.mp3`
  - `assets/audio/tautiska-giesme.ogg`
- JS uses native browser APIs only (`Intl.DateTimeFormat`, HTMLAudioElement events, `scrollIntoView`).
- No package-managed runtime dependencies or test framework.

## Local workflow
- Run locally from repo root:
  - `python -m http.server 8000`
  - or `npx serve .`
- Verify in browser: countdown next-year rollover, play/pause button state, stanza click-to-seek, active stanza highlighting.
- Prefer minimal edits: content/attributes in `index.html`, behavior in `script.js`, visuals in `style.css`.
